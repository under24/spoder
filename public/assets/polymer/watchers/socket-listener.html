<dom-module id="socket-listener">
  <script>
    class socketListener extends ReduxMixin(Polymer.Element) {
      static get is() { return 'socket-listener'; }
      static get properties() {
        return {
          lol: {
            value: 'lol'
          }
        }
      }
      
      connectedCallback() {
        super.connectedCallback();
        
        // socket connected
        socket.on('connect', function() {
          store.dispatch({ type: "SOCKET_STATUS_CHANGED", payload: { connected: true } });
        });
        // socket disconnected
        socket.on('disconnect', function() {
          store.dispatch({ type: "SOCKET_STATUS_CHANGED", payload: { connected: false } });
        });
        
        
        socket.on('right-analog-stick-moved', (data) => {
          
          store.dispatch({
            type: "MOVEMENT_DIRECTION_JOYSTICK_VALUES_CHANGED",
            payload: {
              x: data.x,
              y: data.y
            }
          });
          
        });
      }
      
      temp() {
        
      }

    }
    window.customElements.define(socketListener.is, socketListener);
  </script>
</dom-module>