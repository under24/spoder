<link rel="import" href="../../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../digital-joystick/digital-joystick.html">
<link rel="import" href="../level-modifier-view/level-modifier-view.html">
<link rel="import" href="../tilt-view/tilt-view.html">
<link rel="import" href="../shift-view/shift-view.html">
<link rel="import" href="../transverse-animation-view/transverse-animation-view.html">
<link rel="import" href="../sagittal-animation-view/sagittal-animation-view.html">
<link rel="import" href="../rotation-modifier-view/rotation-modifier-view.html">

<dom-module id="view-picker">
  <template>
    <style>
      :host {
        display: inline-block;
        position: absolute;
        height: 100%;
        width: 100%;
      }
      :host([view=none]) .close-view {
        display: none;
      }
      .close-view {
        display: inline-block;
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 14px;
        z-index: 1;
        cursor: pointer;
        background-color: white;
        padding: 5px 10px;
      }
      .close-view:hover {
        background-color: azure;
      }
      .selection-text {
        text-align: center;
        margin-bottom: 10px;
      }
      .selection-section {
        display: inline-block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }
      select {
        padding: 5px;
        text-align: center;
        outline: none;
        overflow: hidden;
      }
    </style>
    
    <!-- reset view -->
    <div class="close-view" on-click="resetView">CLOSE VIEW</div>
    
    <!-- selection -->
    <template is="dom-if" if="[[computeView('none', view)]]" restamp>
      <section class="selection-section">
        <div class="selection-text">Choose view to load...</div>
        <select value="{{view::change}}" multiple size="8">
          <option value="none">None</option>
          <option value="digital-joystick">Joystick Demo</option>
          <option value="level-modifier-view">Level Modifier View</option>
          <option value="rotation-modifier-view">Rotation Modifier View</option>
          <option value="tilt-view">Tilt View</option>
          <option value="shift-view">Shift View</option>
          <option value="transverse-animation-view">Transverse Animation View</option>
          <option value="sagittal-animation-view">Sagittal Animation View</option>
        </select>
      </section>
    </template>
    
    <!-- level modifier view -->
    <template is="dom-if" if="[[computeView('level-modifier-view', view)]]" restamp>
      <level-modifier-view></level-modifier-view>
    </template>
    
    <!-- joystick demo -->
    <template is="dom-if" if="[[computeView('digital-joystick', view)]]" restamp>
      <digital-joystick style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);"></digital-joystick>
    </template>
    
    <!-- tilt view -->
    <template is="dom-if" if="[[computeView('tilt-view', view)]]" restamp>
      <tilt-view></tilt-view>
    </template>
    
    <!-- shift view -->
    <template is="dom-if" if="[[computeView('shift-view', view)]]" restamp>
      <shift-view></shift-view>
    </template>
    
    <!-- rotation modifier view -->
    <template is="dom-if" if="[[computeView('rotation-modifier-view', view)]]" restamp>
      <rotation-modifier-view></rotation-modifier-view>
    </template>
    
    <!-- transverse animation view -->
    <template is="dom-if" if="[[computeView('transverse-animation-view', view)]]" restamp>
      <transverse-animation-view></transverse-animation-view>
    </template>
    
    <!-- sagittal animation view -->
    <template is="dom-if" if="[[computeView('sagittal-animation-view', view)]]" restamp>
      <sagittal-animation-view></sagittal-animation-view>
    </template>
    
  </template>

  <script>
    class viewPicker extends ReduxMixin(Polymer.Element) {
      static get is() { return 'view-picker'; }
      static get properties() {
        return {
          view: {
            type: String,
            value: 'none',
            reflectToAttribute: true
          }
        };
      }
      
      computeView(currView, view) {
        return currView == view;
      }
      
      resetView() {
        this.view = 'none';
      }

    }

    window.customElements.define(viewPicker.is, viewPicker);
  </script>
</dom-module>
