<link rel="import" href="../../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../diag-text/diag-text.html">
<link rel="import" href="../diag-bar/diag-bar.html">
<link rel="import" href="../diag-section/diag-section.html">

<dom-module id="diag-panel">
  <template>
    <style>
      :host {
        display: inline-block;
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
      }
    </style>
    <div class="diag-panel">
      <diag-section class="layout-text" header="Basic info:">
        <diag-text label="Sagittal Base X:" value="[[coords.sagittalBaseX]]"></diag-text>
        <diag-text label="Sagittal Base Y:" value="[[coords.sagittalBaseY]]"></diag-text>
        <diag-text label="Sagittal Cursor X:" value="[[coords.sagittalCursorX]]"></diag-text>
        <diag-text label="Sagittal Cursor Y:" value="[[coords.sagittalCursorY]]"></diag-text>
        <diag-text label="Femur Screen Angle:" value="[[angles.femurScreenAngle]]"></diag-text>
        <diag-text label="Tibia Screen Angle:" value="[[angles.tibiaScreenAngle]]"></diag-text>
        <hr />
        <diag-text label="Transverse Base X:" value="[[coords.transverseBaseX]]"></diag-text>
        <diag-text label="Transverse Base Y:" value="[[coords.transverseBaseY]]"></diag-text>
        <diag-text label="Transverse Cursor X:" value="[[coords.transverseCursorX]]"></diag-text>
        <diag-text label="Transverse Cursor Y:" value="[[coords.transverseCursorY]]"></diag-text>
        <diag-text label="Coxa Screen Angle:" value="[[angles.coxaScreenAngle]]"></diag-text>
        <hr />
      </diag-section>
      <diag-section class="layout-bars" header="Leg 1 servos:">
        <diag-bar value='[[angles.coxaServoAngle]]'></diag-bar>
        <diag-bar value="[[angles.femurServoAngle]]"></diag-bar>
        <diag-bar value="[[angles.tibiaServoAngle]]"></diag-bar>
      </diag-section>
      <diag-section class="layout-text" header="Servos angle info:">
        <diag-text label="Coxa Servo Angle:" value="[[angles.coxaServoAngle]]"></diag-text>
        <diag-text label="Femur Servo Angle:" value="[[angles.femurServoAngle]]"></diag-text>
        <diag-text label="Tibia Servo Angle:" value="[[angles.tibiaServoAngle]]"></diag-text>
      </diag-section>
    </div>
  </template>

  <script>
    class diagPanel extends ReduxMixin(Polymer.Element) {
      static get is() { return 'diag-panel'; }
      static get properties() {
        return {
          legId: {
            type: Number,
            value: 1
          },
          angles: {
            statePath(state) {
              return state.angles[this.legId];
            }
          },
          coords: {
            statePath(state) {
              return state.coords[this.legId];
            }
          }
        };
      }

    }

    window.customElements.define(diagPanel.is, diagPanel);
  </script>
</dom-module>