<link rel="import" href="../../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../helper-components/digital-joystick.html">
<link rel="import" href="../views/level-modifier-view.html">
<link rel="import" href="../views/tilt-modifier-view.html">
<link rel="import" href="../views/shift-modifier-view.html">
<link rel="import" href="../views/transverse-animation-view.html">
<link rel="import" href="../views/sagittal-animation-view.html">
<link rel="import" href="../views/rotation-modifier-view.html">
<link rel="import" href="../views/direction-joystick-view.html">
<link rel="import" href="../views/turn-joystick-view.html">
<link rel="import" href="../sagittal-view/sagittal-view.html">
<link rel="import" href="../views/transverse-view.html">
<link rel="import" href="../sequencer-view/sequencer-view.html">
<link rel="import" href="../movement-generator/movement-generator.html">
<link rel="import" href="../movement-settings/movement-settings.html">
<link rel="import" href="../movement-inspector/movement-inspector.html">

<dom-module id="view-picker">
  <template>
    <style>
      :host {
        display: inline-block;
        position: absolute;
        height: 100%;
        width: 100%;
      }
      :host([view=none]) .close-view {
        display: none;
      }
      .close-view {
        display: inline-block;
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 14px;
        z-index: 1;
        cursor: pointer;
        background-color: white;
        padding: 5px 10px;
      }
      .close-view:hover {
        background-color: azure;
      }
      .selection-text {
        text-align: center;
        margin-bottom: 10px;
      }
      .selection-section {
        display: inline-block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }
      select {
        padding: 5px;
        text-align: center;
        outline: none;
        overflow: hidden;
      }
    </style>
    
    <!-- reset view -->
    <div class="close-view" on-click="resetView">CLOSE VIEW</div>
    
    <!-- selection -->
    <template is="dom-if" if="[[computeView('none', view)]]" restamp>
      <section class="selection-section">
        <div class="selection-text">Choose view to load...</div>
        <select value="{{view::change}}" multiple size="16">
          <option value="none">None</option>
          <option value="digital-joystick">Joystick Demo</option>
          <option value="level-modifier-view">Level Modifier View</option>
          <option value="rotation-modifier-view">Rotation Modifier View</option>
          <option value="tilt-modifier-view">Tilt Modifier View</option>
          <option value="shift-modifier-view">Shift Modifier View</option>
          <option value="transverse-animation-view">Transverse Animation View</option>
          <option value="sagittal-animation-view">Sagittal Animation View</option>
          <option value="direction-joystick-view">Direction Joystick View</option>
          <option value="turn-joystick-view">Turn Joystick View</option>
          <option value="sagittal-view">Sagittal View</option>
          <option value="transverse-view">Transverse View</option>
          <option value="sequencer-view">Sequencer View</option>
          <option value="movement-generator">Movement Generator</option>
          <option value="movement-settings">Movement Settings</option>
          <option value="movement-inspector">Movement Inspector</option>
        </select>
      </section>
    </template>
    
    <!-- joystick demo -->
    <template is="dom-if" if="[[computeView('digital-joystick', view)]]" restamp>
      <digital-joystick 
        style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);"
        input="[[joystickOutput]]"
        output="{{joystickOutput}}">
      </digital-joystick>
    </template>
    
    <!-- level modifier view -->
    <template is="dom-if" if="[[computeView('level-modifier-view', view)]]" restamp>
      <level-modifier-view></level-modifier-view>
    </template>
    
    <!-- rotation modifier view -->
    <template is="dom-if" if="[[computeView('rotation-modifier-view', view)]]" restamp>
      <rotation-modifier-view></rotation-modifier-view>
    </template>
    
    <!-- tilt modifier view -->
    <template is="dom-if" if="[[computeView('tilt-modifier-view', view)]]" restamp>
      <tilt-modifier-view></tilt-modifier-view>
    </template>
    
    <!-- shift modifier view -->
    <template is="dom-if" if="[[computeView('shift-modifier-view', view)]]" restamp>
      <shift-modifier-view></shift-modifier-view>
    </template>
    
    <!-- transverse animation view -->
    <template is="dom-if" if="[[computeView('transverse-animation-view', view)]]" restamp>
      <transverse-animation-view></transverse-animation-view>
    </template>
    
    <!-- sagittal animation view -->
    <template is="dom-if" if="[[computeView('sagittal-animation-view', view)]]" restamp>
      <sagittal-animation-view></sagittal-animation-view>
    </template>
    
    <!-- direction joystick view -->
    <template is="dom-if" if="[[computeView('direction-joystick-view', view)]]" restamp>
      <direction-joystick-view></direction-joystick-view>
    </template>
    
    <!-- turn joystick view -->
    <template is="dom-if" if="[[computeView('turn-joystick-view', view)]]" restamp>
      <turn-joystick-view></turn-joystick-view>
    </template>
    
    <!-- sagittal view -->
    <template is="dom-if" if="[[computeView('sagittal-view', view)]]" restamp>
      <sagittal-view></sagittal-view>
    </template>
    
    <!-- transverse view -->
    <template is="dom-if" if="[[computeView('transverse-view', view)]]" restamp>
      <transverse-view></transverse-view>
    </template>
    
    <!-- sequencer view -->
    <template is="dom-if" if="[[computeView('sequencer-view', view)]]" restamp>
      <sequencer-view></sequencer-view>
    </template>
    
    <!-- movement generator -->
    <template is="dom-if" if="[[computeView('movement-generator', view)]]" restamp>
      <movement-generator></movement-generator>
    </template>
    
    <!-- movement settings -->
    <template is="dom-if" if="[[computeView('movement-settings', view)]]" restamp>
      <movement-settings></movement-settings>
    </template>
    
    <!-- movement inspector -->
    <template is="dom-if" if="[[computeView('movement-inspector', view)]]" restamp>
      <movement-inspector></movement-inspector>
    </template>
    
  </template>

  <script>
    class viewPicker extends ReduxMixin(Polymer.Element) {
      static get is() { return 'view-picker'; }
      static get properties() {
        return {
          view: {
            type: String,
            value: 'none',
            reflectToAttribute: true
          },
          joystickOutput: {
            value: { xShift: 0, yShift: 0 }
          }
        };
      }
      
      computeView(currView, view) {
        return currView === view;
      }
      
      resetView() {
        this.view = 'none';
      }

    }
    window.customElements.define(viewPicker.is, viewPicker);
  </script>
</dom-module>